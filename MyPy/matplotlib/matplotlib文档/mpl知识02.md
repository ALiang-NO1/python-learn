# 绘制统计图形
## 柱状图
柱状图主要是应用在定性数据的可视化场景中，或者是离散型数据的分布展示。
例如，一个本科班级的学生的籍贯分布，出国旅游人士的职业分布以及下载一款App产品的操作系统的分布。

不使用默认的“Unicode minus”模式来处理**坐标轴轴线的刻度标签是负数**的情况，一般可以使用“ASCII hyphen”模式来处理坐标轴轴线的负刻度值的情况
> bar(x,y,align="center",color="b",tick_label=["A","B","C","D","E"],alpha=0.6)
- x：柱状图中的柱体标签值。
- y：柱状图中的柱体高度。
- align：柱体对齐方式。
- color：柱体颜色。
- tick_label：刻度标签值。
- alpha：柱体的透明度。

## 条形图
如果将柱状图中的柱体由垂直方向变成水平方向，柱状图就变成条形图，函数也就变成
> barh(x,y,align="center",color="k",tick_label=["A","B","C","D","E"])
其中参数x是y轴上柱体标签值， y是柱体的宽度，在x轴上显示，tick_label表示y轴上的柱体标签值。

## 堆积图
1. 堆积柱状图
2. 堆积条形图
如果将函数barh()中的参数left的取值设定为列表y，列表y1=[2,6,3,8,5]代表另一套试卷的份数，函数barh(x,y1,left=y,color="r")就会输出堆积条形图。

## 分块图
1. 多数据并列柱状图

2. 多数据平行条形图

关键字参数hatch 设置柱体的填充样式，关键字参数hatch可以有很多取值，例如，“"/"”“"\\"”“"|"”“"-"”等，每种符号字符串都是一种填充柱体的几何样式。
而且，符号字符串的符号数量越多，柱体的几何图形的密集程度越高。

## 堆积折线图、间断条形图和阶梯图
1. 用函数stackplot()绘制堆积折线图

2. 用函数broken_barh()绘制间断条形图
间断条形图是在条形图的基础上绘制而成的，主要用来可视化定性数据的相同指标在时间维度上的指标值的变化情况，实现定性数据的相同指标的变化情况的有效直观比较。

 列表“[(60,90),(190,20),(230,30),(280,60)]”的元组表示从起点是x轴的数值为60的位置起，沿x轴正方向移动90个单位。其他元组的含义类似。

3. 用函数step()绘制阶梯图
阶梯图经常使用在时间序列数据的可视化任务中，凸显时序数据的波动周期和规律。

- 参数值“pre”表示x轴上的每个数据点对应的y轴上的数值向左侧绘制水平线直到x轴上的此数据点的左侧相邻数据点为止，也就是说，x轴上的相邻数据点的取值是按照左开右闭区间进行数据点选取的。

- 参数值“post”表示在x轴上的相邻数据点的取值是按照左闭右开区间进行数据点选取的，然后用对应的y轴上的数值向右侧绘制水平线直到x轴上的此数据点的右侧相邻数据点为止。

## 直方图
直方图是用来展现连续型数据分布特征的统计图形。利用直方图我们可以直观地分析出数据的集中趋势和波动情况。

直方图主要是应用在定量数据的可视化场景中，或者是用来进行连续型数据的可视化展示。
比如，公共英语考试分数的区间分布、抽样调查中的人均寿命的分布特征以及居民可支配收入的分布特征。

> hist(x,bins=bins,color="b",histtype="bar",label="score",rwidth=10)的参数的含义。
- x：连续型数据输入值。
- bins：用于确定柱体的个数或是柱体边缘范围。
- color：柱体的颜色。
- histtype：柱体类型。
- label：图例内容。
- rwidth：柱体宽度。
除了最后一个柱体的数据范围是闭区间，其他柱体的数据范围都是左闭右开区间，例如第一个柱体的数据范围是[0,10)，最后一个柱体的数据范围是[90,100]。

**直方图和柱状图的关系**
直方图描述的是连续型数据的分布，柱状图描述的是离散型数据的分布，也可以讲：一个是描述定量数据；另一个是描述定性数据

## 堆积直方图

**直方图的不同形状**-将直方图和阶梯图的特点结合起来即可绘制阶梯型直方图

> pie(students,explode=explode,labels=labels,autopct= "%3.1f%%", startangle=45,shadow=True,colors=colors)
- students：饼片代表的百分比。
- explode：饼片边缘偏离半径的百分比。
- labels：标记每份饼片的文本标签内容。
- autopct：饼片文本标签内容对应的数值百分比样式。
- startangle：从x轴作为起始位置，第一个饼片逆时针旋转的角度。
- shadow：是否绘制饼片的阴影。
- colors：饼片的颜色。

## 非分裂式饼图

## 绘制内嵌环形饼图
饼图不仅可以用来描述定性数据的比例分布，还可以将多个饼图进行嵌套，从而实现内嵌环形饼图的可视化效果。

## 箱线图
箱体是由第一四分位数、中位数（第二四分位数）和第三四分位数所组成的。在箱须的末端之外的数值可以理解成离群值，因此，箱须是对一组数据范围的大致直观描述。

**多组定量数据的分布比较**
 箱线图主要应用在一系列测量或观测数据的比较场景中，例如学校间或班级间测试成绩的比较，球队中的队员体能对比，产品优化前后的测试数据比较以及同类产品的各项性能的比较，等等

> plt.boxplot(testList,whis=whis,widths=width,sym="o", labels=labels,patch_artist=True)
- testList：绘制箱线图的输入数据。
- whis：四分位间距的倍数，用来确定箱须包含数据的范围的大小。
- widths：设置箱体的宽度。
- sym：离群值的标记样式。
- labels：绘制每一个数据集的刻度标签。
- patch_artist：是否给箱体添加颜色。

如果我们将关键字参数notch的参数值设置为“True”，同时其他语句保持不变，那么箱体就变成有“V”型凹痕的箱体了

## 误差棒图
**定量数据的误差范围**
通过抽样获得样本，对总体参数进行估计会由于样本的随机性导致参数估计值出现波动，因此需要用误差置信区间来表示对总体参数估计的可靠范围。
误差棒就可以很好地实现充当总体参数估计的置信区间的角色。误差棒的计算方法可以有很多种：单一数值、置信区间、标准差和标准误等。
误差棒的可视化展示效果也有很多种样式：水平误差棒、垂直误差棒、对称误差棒和非对称误差棒等。

 我们采用单一数值的非对称形式的误差棒，函数errorbar()的参数含义如下所示。
- x,y：数据点的位置。
- yerr：单一数值的非对称形式误差范围。
- fmt：数据点的标记样式和数据点标记的连接线样式。
- ecolor：误差棒的线条颜色。
- elinewidth：误差棒的线条粗细。
- ms：数据点的大小。
- mfc：数据点的标记颜色。
- mec：数据点的标记边缘颜色。
- capthick：误差棒边界横杠的厚度。
- capsize：误差棒边界横杠的大小。

## 带误差棒的柱状图

## 带误差棒的条形图

## 带误差棒的多数据并列柱状图
如果我们尝试进一步比较不同年份的不同芒果种植区的单次收割量的情况，那么就可以借助带误差棒的多数据并列柱状图进行可视化展示。

## 带误差棒的堆积柱状图

# 完善统计图形

## 添加图例和标题

 这里我们是使用matplotlib自带的TeX功能来实现对数学表达式支持的，用TeX对文本内容进行渲染，通过使用r"$$"模式，将表达式\sin和\cos嵌入一对美元符号之间。
 一般而言，对于在“r"$text1\text2$"”中的非数学表达式文本text1会以斜体形式输出，并且最终输出时就会呈现印刷级别的文档效果。需要说明的是，在字符串“r"$text1\text2$"”的开始之处有一个标记“r”，表示该字符串是raw strings，

## 图例的展示样式的调整
不仅图例的显示位置可以改变，而且图例的展示样式也可以调整。说到图例的展示样式，就不得不提到图例的外边框、图例中的文本标签的排列位置和图例的投影效果等方面。这些图例的展示样式都是通过图例函数legend()的关键字参数实现的。

图例函数legend()的关键字参数主要有位置参数loc、线框位置参数bbox_to_anchor、图例标签内容的标题参数title、线框阴影shadow和线框圆角处理参数fancybox等。
对于位置参数loc不仅可以使用字符串还可以使用字符串对应的数字
关键字参数bbox_to_anchor的参数值是一个四元元组，且使用Axes坐标系统。
- 第1个元素代表距离画布左侧的x轴长度的倍数的距离；
- 第2个元素代表距离画布底部的y轴长度的倍数的距离；
- 第3个元素代表x轴长度的倍数的线框长度；
- 第4个元素代表y轴长度的倍数的线框宽度。

## 标题的展示样式的调整
针对标题的展示样式，我们可以通过标题函数title()的关键字参数得以实现，这些关键字参数包括字体样式、字体大小、字体风格和字体颜色等文本属性。

import matplotlib.pyplot as pltimport numpy as npx = np.linspace(-2,2,1000)y = np.exp(x)plt.plot(x,y,ls="-",lw=2,color="g")plt.title("center demo")plt.title("Left Demo",loc="left",fontdict={"size":"xx-large","color":"r","family":"Times New Roman"})plt.title("right demo",loc="right",family="Comic Sans MS",size=20,style="oblique",color="c")plt.show()

## 带图例的饼图

函数legend()的参数wedges和elements分别表示饼片实例列表和文本标签列表，而且这两个参数要一起配合使用才可以将饼片外部的文本标签放置在图例内部的任务中。

## 调整刻度范围和刻度标签
函数subplot()
在代码实现部分我们调用了子区函数subplot()，这个函数专门用来绘制几何形状相同的网格区域，子区顾名思义就是将画布分成若干个子画布，这些子画布就构成了几何形状规则且对称的矩形绘图区域，然后在这些绘图区域上分别绘制图形。

## 逆序设置坐标轴刻度标签

## 向统计图形添加表格

函数table()各参数的含义如下。
- cellText：表格的数值，将源数据按照行进行分组，每组数据放在列表里存储，所有组数据再放在列表里储存。
- cellLoc：表格中的数据对齐位置，可以左对齐、居中和右对齐。
- colWidths：表格每列的宽度。
- colLabels：表格每列的列名称。
- colColours：表格每列的列名称所在单元格的颜色。
- rowLabels：表格每行的行名称。
- rowLoc：表格每行的行名称对齐位置，可以左对齐、居中和右对齐。
- loc：表格在画布中的位置。
